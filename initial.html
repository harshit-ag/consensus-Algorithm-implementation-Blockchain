<html>
	<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
	<title>
		BLOCKCHAIN
	</title>
	</head>

			<link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet">
			<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<body>
                <link rel="stylesheet" type="text/css" href="eg.css"/>
		<div class="head1">
        	INITIZLIZATION
	</div>


<div class="menu"> <span></span> </div>
<nav id="nav">
		<ul class="main">
			<li><a href="home.html" target="_parent">About</a></li>
			<li><a href="initial.html" target="_parent">Initialization</a></li>
			<li><a href="t.html" target="_parent">Transactions</a></li>
			<li><a href="mine.html" target="_parent">Mine</a></li>
	</ul>
</nav>

<div class="overlay"></div>
<script>
$('.menu, .overlay').click(function () {
	$('.menu').toggleClass('clicked');
	$('#nav').toggleClass('show');
});
</script>



<br>
<br>
<br>


	<div class="start" id = "start">
	<a href="http://localhost:3001/startnode" target="_blank">
		<button class="btn btn-primary margin-auto btn-search">Start node</button>
	</a>
	</div>

	<br>

<div class="start-all" id = "start-all">
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<p class="text">Enter number of nodes to run </p>
	<input type="text" id="start2" name="nodes">
	<br>
	<br>
  <a href= "http://localhost:3001/blockchain" target="_blank">
		<button onclick="startallnodes()" class="btn btn-primary margin-auto btn-search">Start all nodes</button>
	</a>
	<a href= "http://localhost:3001/blockchain" target="_blank">
		<button onclick="nodebroadcast()" class="btn btn-primary margin-auto btn-search">nodes broadcast</button>
	</a>
</div>

  <script>
    function startallnodes() {
      var w= document.getElementById('start2').value;
			var url = "http://localhost:300";

			console.log(w);
      var formData = {
     "nodes": w
      };
      $.ajax({
           url: "http://localhost:3000/startnode",
           type: 'POST',
           dataType: 'json',
           data: formData
        }).done(function(data) {
           // Call your open_popup() function here
					 //nodebroadcast();
					 // console.log("function");
         });
}

		function nodebroadcast() {
      var w= document.getElementById('start2').value;
      for(i=0;i<w;i++){
			 var formData2 = {
 	     "index":i+1
 	      };
				//console.log(url+i);
				 $.ajax({
 	           url: "http://localhost:3001/register-and-broadcast-node",
 	           type: 'POST',
 	           dataType: 'json',
 	           data: formData2
 	        }).done(function(data) {
 	           // Call your open_popup() function here
 	         });
     }
    }
  </script>


<br>

	<div class="hit" id ="hit">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<p class="text">Enter node server/name: </p>
			<input type="text" id="id" name="node">
			<select id="options" class="dd">
       <option value="blockchain">View Block</option>
       <option value="mine">Mine New Block</option>
       <option value="transaction">Transactions</option>
			 <option value="sector_allocation">Allocate-sectors</option>
     </select>
		 <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<button onclick="myFunction()" class="btn btn-primary margin-auto btn-search">DO IT</button>
			<br>
 </div>

<script>
	function myFunction() {
  var x = document.getElementById("id").value;
	var y = document.getElementById("options").value;
	var z = "http://localhost:"+x+"/"+y;
  window.open(z, "_blank");
}
</script>


<style type="text/css">
  html, body {
    min-height: 100vh;
    background-color:white;
  }
  .container {
    padding-top: 50px;
    padding-bottom: 50px;
  }
  #page-title {
    text-align: center;
    margin-bottom: 40px;
  }
  .table-title {
    margin-bottom: 20px;
    text-align: center;
  }
  .hit {
    text-align: center;
    padding-top: 20px;
    padding-bottom: 20px;
  }
  .start {
    text-align: center;
  }
  .start-all{
    text-align: center;
    padding-top: 20px;
    padding-bottom: 20px;
  }
  .transaction{
    text-align: center;
    padding-top: 20px;
    padding-bottom: 20px;

  }
  .table {
    background-color: #ffffff;
    box-shadow: 2px 2px 15px -3px rgba(0,0,0,0.75);
  }
  #balance-text {
    text-align: center;
    margin-top: -20px;
    margin-bottom: 30px;
  }
  .margin-auto {
    margin: auto;
    display: block;
  }
  .btn-search {
    margin-bottom: 20px;
  }
  .bold {
    font-weight: 700;
  }
  .no-data-text {
    color: red;
    text-align: center;
  }
  .text {
    color: black;
    font-weight: 700;
  }
  .dd {
    color: black;
    font-weight: 300;
    box-shadow: 2px 2px 15px -3px rgba(0,0,0,0.75);
    padding-top: 3px;
    padding-bottom: 3px;
  }

</style>

</body>

</html>
